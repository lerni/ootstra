@use "sass:math";
@import "includes/variables";
@import "includes/defaults";
@import "includes/mixins";
@import "~breakpoint-sass/stylesheets/breakpoint";

body.blogpost,
body.blog {
	.element.blog-post-meta p {
		margin-bottom: 0;
		padding-bottom: #{$lh}em;
	}
	.posts {
		display: flex;
		flex-wrap: wrap;
		padding-bottom: #{$lh}em;
		gap: #{$lh}em;
	}
	.post-summary {
		flex: 0 0
			calc(#{percentage(math.div(1, 3))} - #{math.div($lh * 2, 3)}em);
		display: flex;
		flex-direction: column;
		color: $text-color;
		@include breakpoint($Lneg) {
			flex: 0 0
				calc(
					#{percentage(math.div(1, 2))} - #{math.div($lh * 1, 1.9)}em
				);
		}
		@include breakpoint($Mneg) {
			flex: 0 0 100%;
		}
		&.nopost {
			flex: 0 0 100%;
			text-align: center;
		}
		&:visited,
		&:hover {
			color: inherit;
		}
		figure {
			flex: 0 0 auto;
			margin: 0;
			display: table;
			width: 100%;
			img {
				width: 100%;
				margin-bottom: 0;
				float: left;
			}
		}
		.txt {
			margin: #{$lh}em auto #{$lh * 2}em;
			max-width: 700px;
			p {
				margin: #{math.div($lh, 2)}em 0;
			}
		}
		&:focus {
			outline: none;
		}
	}
	.prev-all-next {
		display: grid;
		grid-template-columns: 1fr #{$lh * 3}em 1fr;
		grid-gap: #{$lh}em;
		align-items: center;
		margin: #{$lh * 2}em auto #{$lh * 2}em;
		@include breakpoint($Lneg) {
			grid-template-columns: 1fr;
		}
		> a {
			color: $text-color;
		}
		.prev,
		.next {
			display: block;
			height: #{$lh * 3}em;
			margin: 0 auto;
			display: flex;
			background-color: $gray--lighter;
			// min-width: 300px;
			> img {
				width: #{$lh * 3}em;
				height: #{$lh * 3}em;
			}
			span {
				margin: auto 0;
				&::before,
				&::after {
					will-change: background-position;
					transition: background-position;
					transition-duration: 0.12s;
				}
			}
		}
		.prev {
			margin-left: 0;
			padding-right: 1em;
			span::before {
				content: "";
				width: #{$lh}em;
				height: 1em;
				display: inline-block;
				background-size: auto 80%;
				background-repeat: no-repeat;
				background-image: svg-load(
					"../images/svg/forth.svg",
					fill=#{$text-color}
				);
				background-position: bottom 100% right 50%;
				transform: rotate(180deg);
			}
			> img {
				margin-right: 1em;
			}
			&:hover {
				span::before {
					background-position: bottom 100% right 0%;
				}
			}
		}
		.next {
			margin-right: 0;
			padding-left: 1em;
			span::after {
				content: "";
				width: #{$lh}em;
				height: 1em;
				display: inline-block;
				background-size: auto 80%;
				background-repeat: no-repeat;
				background-image: svg-load(
					"../images/svg/forth.svg",
					fill=#{$text-color}
				);
				background-position: top 100% right 50%;
			}
			> img {
				margin-left: 1em;
			}
			&:hover {
				span::after {
					background-position: top 100% right 0%;
				}
			}
		}
		// if empty - first & last element
		span.prev,
		span.next {
			background-color: transparent;
		}
		.all-posts {
			margin: auto;
			display: block;
			width: #{$lh * 2.4}em;
			height: #{$lh * 2.4}em;
			background-image: svg-load(
				"../images/svg/grid.svg",
				fill=#{$gray--light}
			);
			background-size: 100% auto;
		}
	}
}
