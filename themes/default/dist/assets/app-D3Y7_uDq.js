document.addEventListener("DOMContentLoaded",function(){T()});document.body.addEventListener("htmx:afterSettle",function(e){T()});function T(){const e=document.querySelector("#menuButton");e&&e.addEventListener("click",s=>{document.querySelector("html").classList.toggle("mobile-nav--active");let r=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",!r),document.getElementById("header").scrollIntoView()});const f=document.querySelector(".menu1");f&&(f.addEventListener("click",s=>{s.target.closest("li.has-children.expanded >a")?window.location=s.target.getAttribute("href"):document.querySelector("html").classList.contains("mobile-nav--active")&&s.target.closest("li.has-children >a")&&(s.preventDefault(),s.target.parentElement.classList.toggle("expanded"))}),f.addEventListener("mouseleave",s=>{document.querySelector("html").classList.contains("mobile-nav--active")||document.querySelectorAll(".menu1 li").forEach(c=>{c.classList.remove("expanded")})})),document.querySelectorAll("span.trigger").forEach(s=>{s.addEventListener("click",r=>{r.target.closest("li").classList.toggle("expanded")})});const n=Array.prototype.slice.call(document.querySelectorAll(".menu1 > li > a")),l=Array.prototype.slice.call(document.querySelectorAll(".menu1 > li > a, .menu2 > li > a"));l.forEach(function(s,r){s.addEventListener("keydown",function(c){var m=(r-1+l.length)%l.length,v=(r+1)%l.length;switch(c.key){case"ArrowUp":l[m].focus(),c.preventDefault();break;case"ArrowDown":l[v].focus(),c.preventDefault();break}})}),n.forEach(function(s,r){s.addEventListener("keydown",function(c){var m=(r-1+n.length)%n.length,v=(r+1)%n.length;switch(c.key){case"ArrowLeft":n[m].focus(),c.preventDefault();break;case"ArrowRight":n[v].focus(),c.preventDefault();break}})})}window.onpageshow=e=>{e.persisted&&window.location.reload()};function D(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y={exports:{}};/*!
 * headroom.js v0.12.0 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2020 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */var I=y.exports,A;function M(){return A||(A=1,(function(e,f){(function(i,n){e.exports=n()})(I,function(){function i(){return typeof window<"u"}function n(){var t=!1;try{var o={get passive(){t=!0}};window.addEventListener("test",o,o),window.removeEventListener("test",o,o)}catch{t=!1}return t}function l(){return!!(i()&&(function(){}).bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame)}function s(t){return t.nodeType===9}function r(t){return t&&t.document&&s(t.document)}function c(t){var o=t.document,d=o.body,p=o.documentElement;return{scrollHeight:function(){return Math.max(d.scrollHeight,p.scrollHeight,d.offsetHeight,p.offsetHeight,d.clientHeight,p.clientHeight)},height:function(){return t.innerHeight||p.clientHeight||d.clientHeight},scrollY:function(){return t.pageYOffset!==void 0?t.pageYOffset:(p||d.parentNode||d).scrollTop}}}function m(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}function v(t){return r(t)?c(t):m(t)}function q(t,o,d){var p=n(),b,L=!1,g=v(t),w=g.scrollY(),a={};function x(){var h=Math.round(g.scrollY()),S=g.height(),H=g.scrollHeight();a.scrollY=h,a.lastScrollY=w,a.direction=h>w?"down":"up",a.distance=Math.abs(h-w),a.isOutOfBounds=h<0||h+S>H,a.top=h<=o.offset[a.direction],a.bottom=h+S>=H,a.toleranceExceeded=a.distance>o.tolerance[a.direction],d(a),w=h,L=!1}function C(){L||(L=!0,b=requestAnimationFrame(x))}var k=p?{passive:!0,capture:!1}:!1;return t.addEventListener("scroll",C,k),x(),{destroy:function(){cancelAnimationFrame(b),t.removeEventListener("scroll",C,k)}}}function E(t){return t===Object(t)?t:{down:t,up:t}}function u(t,o){o=o||{},Object.assign(this,u.options,o),this.classes=Object.assign({},u.options.classes,o.classes),this.elem=t,this.tolerance=E(this.tolerance),this.offset=E(this.offset),this.initialised=!1,this.frozen=!1}return u.prototype={constructor:u,init:function(){return u.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=q(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){(this.hasClass("pinned")||!this.hasClass("unpinned"))&&(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){var o=t.direction==="down";return o&&!t.top&&t.toleranceExceeded},shouldPin:function(t){var o=t.direction==="up";return o&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add.apply(this.elem.classList,this.classes[t].split(" "))},removeClass:function(t){this.elem.classList.remove.apply(this.elem.classList,this.classes[t].split(" "))},hasClass:function(t){return this.classes[t].split(" ").every(function(o){return this.classList.contains(o)},this.elem)},update:function(t){t.isOutOfBounds||this.frozen!==!0&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},u.options={tolerance:{up:0,down:0},offset:0,scroller:i()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},u.cutsTheMustard=l(),u})})(y)),y.exports}var z=M();const P=D(z),B=document.getElementById("header");B&&new P(B,{offset:140}).init();window.onload=function(){O()};document.body.addEventListener("htmx:afterSwap",function(e){O()});function O(){var e=Array.from(document.querySelectorAll(".expandable-grid .expandable__cell"));e.length&&(e.forEach(i=>{i.addEventListener("click",n=>{clickedCell=n.target.closest(".expandable__cell"),clickedCell.classList.contains("is--collapsed")&&(e.forEach(l=>{l.classList.remove("is--expanded"),l.classList.add("is--collapsed")}),clickedCell.classList.remove("is--collapsed"),clickedCell.classList.add("is--expanded")),hash=clickedCell.getAttribute("id"),history.pushState(null,null,window.location.protocol+"//"+window.location.host+window.location.pathname+"#"+hash)})}),document.addEventListener("DOMContentLoaded",function(){var i=window.location.hash.substring(1);i.length&&isNaN(parseFloat(i))&&(document.getElementById(i).classList.remove("is--collapsed"),document.getElementById(i).classList.add("is--expanded"))}));var f=Array.from(document.querySelectorAll(".expand__close"));f.length&&f.forEach(i=>{i.addEventListener("click",n=>{n.stopPropagation(),clickedXParent=n.target.closest(".expandable__cell"),clickedXParent.classList.remove("is--expanded"),clickedXParent.classList.add("is--collapsed")})})}
